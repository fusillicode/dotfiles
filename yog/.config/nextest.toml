# Reference: https://nexte.st/book/configuration.html

[profile.default]
# Keep false to collect all.
fail-fast = false
# Do not retry locally.
retries = 0
# Run tests in parallel. Nextest picks number of CPUs by default.
threads-required = 1
slow-timeout = { period = "60s", terminate-after = 3 }
failure-output = "final"
success-output = "never"

# Use a separate profile for CI to tweak concurrency and retries.
[profile.ci]
# Keep false to collect all.
fail-fast = false
# Retries for flaky tests.
retries = 1
# Limit parallelism a bit for memory; adjust if CI runners are large.
threads-required = 1
slow-timeout = { period = "90s", terminate-after = 2 }

[profile.ci.junit]
path = "junit.xml"
